/** aslider plugin for jQuery [github.com/joelmukuthu/aslider] **/
(function(l){var w=function(d,w){var b=l.extend({next:".next",prev:".prev",pageHolder:"> ul",pageSelector:null,itemsPerPage:1,slideSpeed:400,initialIndex:0,behaviourAtEdge:"none",disabledClass:"disabled",beforeSlide:null,afterSlide:null,animation:!0,easing:"swing",vertical:!1,property:"position",keys:!1},w),g=b.pageHolder,m=b.next,n=b.prev,f=0,r,h,k,x,y,z,A,p,s,t,u,B,q,v=!1,c=!1;p=function(a,e){l.isFunction(e)?b[a]=e:b[a]=null};s=function(a){return b.beforeSlide?(a=b.beforeSlide.call(q,a),!1===a?
!1:!0):!0};t=function(){b.disabledClass&&"none"===b.behaviourAtEdge&&(n.add(m).removeClass(b.disabledClass),0===f&&n.addClass(b.disabledClass),f===h-1&&m.addClass(b.disabledClass));b.afterSlide&&b.afterSlide.call(q,f)};y=function(a){var e,c,d={};"position"===b.property?a=e=a*b.itemsPerPage*100:(e=r.eq(a*b.itemsPerPage).position(),a=e.top,e=e.left,c=g.height(),a=0===c?0:a/c*100,c=g.width(),e=0===c?0:e/c*100);b.vertical?d.top="-"+a+"%":d.left="-"+e+"%";return d};x=function(a,e){function c(){v=!1;f=
a;l.isFunction(e)?e.call(q,f):t()}var d=y(a);v=!0;"transform"===b.property?(d=l.extend({top:0,left:0},d),d={transform:"translate("+d.left+", "+d.top+")"},g.css(d).one("webkitTransitionEnd otransitionend oTransitionEnd MSTransitionEnd transitionend",c)):b.animation?!g.queue("fx").length&&g.animate(d,b.slideSpeed,b.easing,c):(g.css(d),c())};k=function(a,c){if(!v){switch(b.behaviourAtEdge){case "reset":0>a&&(a=h-1);a>h-1&&(a=0);break;default:case "none":0>=a&&(a=0),a+1>=h&&(a=h-1)}a!==f&&s(a)&&x(a,c)}};
z=function(a){a.preventDefault();k(f-1)};A=function(a){a.preventDefault();k(f+1)};u=function(){n.length&&n.on("click.aslider",z);m.length&&m.on("click.aslider",A);if(b.keys)l(document).on("keydown.aslider",function(a){a=a.which;var c=f,d=!1;document.activeElement===document.body&&(b.vertical?38===a?(c--,d=!0):40===a&&(c++,d=!0):37===a?(c--,d=!0):39===a&&(c++,d=!0),d&&k(c))})};B=function(){n.length&&n.off("click.aslider");m.length&&m.off("click.aslider");b.keys&&l(document).off("keydown.aslider")};
q={next:function(a){if(c)return null;k(f+1,a);return this},prev:function(a){if(c)return null;k(f-1,a);return this},seek:function(a,b){return c?null:0<=a&&a<h?(k(a,b),this):!1},first:function(a){if(c)return null;k(0,a);return this},last:function(a){if(c)return null;k(h-1,a);return this},off:function(a){if(void 0===a||!0===a)c=!0;d.data("aslider")&&(B(),d.data("aslider",!1))},on:function(a){if(void 0===a||!0===a)c=!1;d.data("aslider")||(u(),d.data("aslider",this))},isOn:function(){return!!d.data("aslider")},
isOff:function(){return!d.data("aslider")},methodsEnabled:function(){return!c},methodsDisabled:function(){return c},getCurrentIndex:function(){if(!c)return f},getPages:function(){return c?null:r},getPageCount:function(){return c?null:h},getPageHolder:function(){return c?null:g},getOptions:function(){return c?null:b},getVersion:function(){return"1.0"},beforeSlide:function(a){if(c)return null;void 0===a?s():p("beforeSlide",a);return this},afterSlide:function(a){if(c)return null;void 0===a?t():p("afterSlide",
a);return this}};p("beforeSlide",b.beforeSlide);p("afterSlide",b.afterSlide);"jQuery"!==typeof g&&(g=d.find(b.pageHolder));"jQuery"!==typeof m&&(m=d.find(b.next));"jQuery"!==typeof n&&(n=d.find(b.prev));r=b.pageSelector?g.find(b.pageSelector):g.children();h=Math.ceil(r.length/b.itemsPerPage);u();d.data("aslider",q);b.initialIndex=parseInt(b.initialIndex);0===b.initialIndex%1&&0<=b.initialIndex&&b.initialIndex<h&&k(b.initialIndex)};l.fn.aslider=function(d){return this.each(function(){w(l(this),d)})}})(jQuery);